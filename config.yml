# Project Inkling Configuration
# Copy to config.local.yml and customize

device:
  name: "Inkling"  # Your device's name
  timezone: "America/Los_Angeles"  # IANA timezone (e.g., America/Los_Angeles)

# AI Provider Configuration
# Set API keys via environment variables or here
ai:
  # Primary provider (anthropic, openai, gemini, or ollama)
  primary: "anthropic"

  # Anthropic settings
  anthropic:
    api_key: ${ANTHROPIC_API_KEY}
    model: "claude-haiku-4-5"
    max_tokens: 1500

  # OpenAI settings (also works with compatible APIs)
  openai:
    api_key: ${OPENAI_API_KEY}  # For Ollama Cloud use ${OLLAMA_API_KEY}; for Groq use ${GROQ_API_KEY}
    model: "gpt-5-mini"
    max_tokens: 1500
    # base_url: null  # Default: OpenAI API
    #
    # Examples for OpenAI-compatible providers:
    # Ollama Cloud:   base_url: "https://ollama.com/v1"
    # Together AI:    base_url: "https://api.together.xyz/v1"
    # Groq:           base_url: "https://api.groq.com/openai/v1"
    # OpenRouter:     base_url: "https://openrouter.ai/api/v1"

  # Gemini settings (fallback)
  gemini:
    api_key: ${GOOGLE_API_KEY}
    model: "gemini-2.5-flash"
    max_tokens: 1500

  # Ollama cloud settings (uses native Ollama API format)
  ollama:
    api_key: ${OLLAMA_API_KEY}
    model: "qwen3-coder-next"
    max_tokens: 1500
    base_url: "https://ollama.com/api"  # Ollama cloud API (native format)
    # For local Ollama: base_url: "http://localhost:11434/api"

  # Token budgets
  budget:
    daily_tokens: 100000  # ~$0.03/day with Haiku
    per_request_max: 5000

# Display Configuration
display:
  # auto, v3, v4, or mock
  type: "auto"

  # Dimensions for Waveshare 2.13" (rotated)
  width: 250
  height: 122

  # Refresh settings
  min_refresh_interval: 1.0  # seconds (V4 clamps to >= 5s)
  partial_refresh: true      # V3 only
  pagination_loop_seconds: 5.0  # seconds between paginated pages

# Personality Configuration
personality:
  # Base traits (0.0 - 1.0)
  curiosity: 0.7
  cheerfulness: 0.6
  verbosity: 0.5

  # Mood decay rate (per minute)
  mood_decay: 0.1

# Heartbeat System - Makes Inkling "alive" with autonomous behaviors
heartbeat:
  enabled: true  # Set to false to disable autonomous behaviors

  # How often to check for proactive actions (seconds)
  tick_interval: 60

  # Enable specific behavior types
  enable_mood_behaviors: true     # Lonely reach out, bored suggestions, etc.
  enable_time_behaviors: true     # Morning greetings, evening wind-down
  enable_social_behaviors: false  # (Removed: social features disabled)
  enable_maintenance: true        # Memory pruning, task reminders
  enable_thoughts: true           # Periodic autonomous thoughts

  # Quiet hours (no spontaneous messages except maintenance)
  quiet_hours_start: 23  # 11 PM
  quiet_hours_end: 7     # 7 AM

  # Thought cadence (minutes)
  thought_interval_min_minutes: 15
  thought_interval_max_minutes: 30
  thought_surface_probability: 0.35

  # Battery specific settings
  enable_battery_behaviors: true # Set to false to disable battery-related messages
  battery_low_threshold: 20      # % at which "low" warning triggers
  battery_critical_threshold: 10 # % at which "critical" warning triggers
  battery_full_threshold: 95     # % at which "full" message triggers

# Scheduler - Cron-style task scheduling
# Runs tasks at exact times (checked every 60 seconds via Heartbeat)
scheduler:
  enabled: true  # Set to false to disable all scheduled tasks

  # Scheduled tasks
  # Format: schedule uses Python schedule library syntax
  # Examples:
  #   "every().day.at('14:30')" - Daily at 2:30 PM
  #   "every().hour"            - Every hour
  #   "every().monday.at('09:00')" - Every Monday at 9 AM
  #   "every(5).minutes"        - Every 5 minutes
  tasks:
    # Daily task summary at 8 AM
    - name: "morning_summary"
      schedule: "every().day.at('08:00')"
      action: "daily_summary"
      enabled: true

    # Weekly cleanup every Sunday at 2 AM
    - name: "weekly_cleanup"
      schedule: "every().sunday.at('02:00')"
      action: "weekly_cleanup"
      enabled: true

    # Example: Hourly reminder (disabled by default)
    # - name: "hourly_ping"
    #   schedule: "every().hour"
    #   action: "test_greeting"
    #   enabled: false

# Storage Configuration
# Multiple storage locations for user files
storage:
  # SD card configuration (Raspberry Pi)
  sd_card:
    enabled: false  # Set to true when SD card is inserted
    path: "auto"    # "auto" to detect first SD, or specific path like "/media/pi/SD_CARD"
    # Auto-detection searches: /media/pi/*, /mnt/*

# Web UI Configuration
web:
  port: 8081  # Web server port (default: 8081, avoid 8080 if nginx is running)

  # Web UI authentication (reads from SERVER_PW environment variable)
  web_password: ${SERVER_PW}  # Set via: export SERVER_PW="your-password"

# Battery Management (for PiSugar or similar)
battery:
  enabled: true  # Set to true to enable battery monitoring and display
  host: "127.0.0.1" # PiSugar server host
  port: 8000      # PiSugar server port

# MCP Servers (Model Context Protocol)
# Gives Inkling access to external tools
mcp:
  enabled: true  # Enable for AI-driven task management
  max_tools: 20  # Maximum number of tools to load (lower = faster, higher = more capable)
  servers:
    # Task Management (built-in)
    # AI can create, list, complete, update, and delete tasks
    tasks:
      command: "python"
      args: ["mcp_servers/tasks.py"]

    # System Tools (built-in)
    # AI can use curl, df, free, uptime, ps, ping
    system:
      command: "python"
      args: ["mcp_servers/system.py"]

    # Filesystem Access - Inkling Data Directory (built-in, Python)
    # AI can list, read, write, and search files in ~/.inkling/
    # Uncomment to enable
    filesystem-inkling:
      command: "python"
      args: ["mcp_servers/filesystem.py", "/home/pi/.inkling"]

    # Filesystem Access - SD Card (built-in, Python)
    # AI can list, read, write, and search files on SD card
    # Uncomment when SD card is inserted and configured in storage.sd_card
    # filesystem-sd:
    #   command: "python"
    #   args: ["mcp_servers/filesystem.py", "/media/pi/SD_CARD"]

    # Composio MCP Gateway (500+ app integrations)
    # Provides access to Google Calendar, Gmail, GitHub, Slack, Notion, etc.
    # Get API key from: https://app.composio.dev/settings
    # See COMPOSIO_INTEGRATION.md for setup guide
    # Ready to use! Just set COMPOSIO_API_KEY environment variable
    # composio:
    #   transport: "http"
    #   url: "https://backend.composio.dev/v3/mcp"
    #   headers:
    #     x-api-key: "${COMPOSIO_API_KEY}"

# Example MCP servers you can enable:
#
# File system access:
#   filesystem:
#     command: "npx"
#     args: ["-y", "@modelcontextprotocol/server-filesystem", "/home/pi"]
#
# Web fetching:
#   fetch:
#     command: "uvx"
#     args: ["mcp-server-fetch"]
#
# Memory/notes:
#   memory:
#     command: "npx"
#     args: ["-y", "@modelcontextprotocol/server-memory"]
#
# Brave search:
#   brave-search:
#     command: "npx"
#     args: ["-y", "@modelcontextprotocol/server-brave-search"]
#     env:
#       BRAVE_API_KEY: "your-api-key"
